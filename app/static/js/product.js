(()=>{"use strict";({691:function(e,t){var r=this&&this.__awaiter||function(e,t,r,c){return new(r||(r=Promise))((function(o,n){function a(e){try{i(c.next(e))}catch(e){n(e)}}function s(e){try{i(c.throw(e))}catch(e){n(e)}}function i(e){e.done?o(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(a,s)}i((c=c.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var r,c,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n&&(n=0,s[0]&&(a=0)),a;)try{if(r=1,c&&(o=2&s[0]?c.return:s[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,s[1])).done)return o;switch(c=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,c=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],c=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=document.querySelector("#product-show-events-toggle-btn"),n=document.querySelector("#product-show-events-stocks-own-by-me-btn"),a=document.querySelector("#product-show-all-stocks"),s=document.querySelector("#product-show-all-stocks-inventory"),i=document.querySelector("#product-show-stocks-own-by-me-btn"),u=document.querySelector("#product-show-events-stocks-own-by-me-btn"),l=document.querySelector("#product-show-events-toggle-btn"),d=(o.checked||n.checked,sessionStorage.getItem("filterJsonData")),h=JSON.parse(d);if(null!==h||void 0!==h){var f=sessionStorage.getItem("isVisibleFilter"),p=JSON.parse(f);if(p){var m=document.querySelector("#product-table-th-product-type"),g=document.querySelectorAll(".table-product-item-tr");for(var v in h){var k=document.createElement("th");k.setAttribute("id","product-table-filter-master-group-".concat(v.replace(/ /g,"_"))),k.classList.add("px-6","py-3","max-width-100"),k.setAttribute("scope","col"),k.innerHTML=v,m.parentNode.insertBefore(k,m.nextSibling)}g.forEach((function(e){var t=e.cells[4],r=e.cells[3].innerText;for(var c in h){var o=h[c],n=document.createElement("td");n.setAttribute("id","product-table-filter-".concat(c,"-").concat(o.replace(/ /g,"_"),"-").concat(r.replace(/ /g,"_"))),n.classList.add("text-base","font-normal","text-gray-900","whitespace-nowrap","dark:text-white","max-width-100"),n.innerHTML='\n        <div class="pl-3">\n          <div class="text-sm">'.concat(o,"</div>\n        </div>\n      "),t.parentNode.insertBefore(n,t.nextSibling)}})),p=!1,sessionStorage.setItem("isVisibleFilter",JSON.stringify(p))}}function b(e){var t=document.querySelector("#product-table-header-tr"),r=document.querySelectorAll(".table-product-item-tr"),c=t.children[4],o=c.cloneNode(!0);o.setAttribute("id","product-table-filter-master-group-".concat(e)),o.innerHTML=e.replace(/_/g," "),t.insertBefore(o,c.nextSibling),r.forEach((function(t){var r=t.children[4],c=r.cloneNode(!0);c.classList.add("px-3"),c.classList.add("product-table-item-td-".concat(e));var o=JSON.parse(t.getAttribute("data-target-product-master-groups")).find((function(t){return t.name===e.replace(/_/g," ")}));c.innerHTML=o?o.name:"-",t.insertBefore(c,r.nextSibling)}))}var y="Brand",S=JSON.parse(sessionStorage.getItem("globalFilterMasterGroup"));if(S||(S=[y],sessionStorage.setItem("globalFilterMasterGroup",JSON.stringify(S))),S.includes(y)||S.push(y),S&&0!==S.length){document.querySelectorAll(".products-filter-product-master-group-checkbox").forEach((function(e){S.includes(e.value)&&(e.checked=!0)}));for(var _=0,w=S;_<w.length;_++){var E=w[_];document.querySelector("#product-table-filter-master-group-".concat(E))||b(E)}}document.querySelectorAll(".products-filter-product-master-group-checkbox").forEach((function(e){e.addEventListener("change",(function(t){var r=JSON.parse(sessionStorage.getItem("globalFilterMasterGroup")),c=e.getAttribute("data-target-group-name"),o=document.querySelectorAll(".table-product-item-tr"),n=t.target.checked;if(n&&(r.includes(c)||r.push(c),sessionStorage.setItem("globalFilterMasterGroup",JSON.stringify(r)),document.querySelector("#product-table-filter-master-group-".concat(c))||b(c)),!n){var a=r.indexOf(c);-1!==a&&r.splice(a,1),sessionStorage.setItem("globalFilterMasterGroup",JSON.stringify(r));var s=document.querySelector("#product-table-filter-master-group-".concat(c));s&&(s.remove(),o.forEach((function(e){var t=e.querySelector(".product-table-item-td-".concat(c));t&&t.remove()})))}}))}));var q=document.querySelector("#table-search-products"),L=document.querySelector("#table-search-product-button"),x=document.querySelector("#select-user-group-for-product");if(L.addEventListener("click",(function(){var e=new URL(window.location.href);["q","is_all_stocks_in_inventory","is_stocks_own_by_me","is_events_stocks_own_by_me","is_events","user_group_id","master_groups"].forEach((function(t){return e.searchParams.delete(t)})),e.searchParams.set("q",q.value),e.searchParams.delete("page"),s.checked&&e.searchParams.set("is_all_stocks_in_inventory","true"),i.checked&&e.searchParams.set("is_stocks_own_by_me","true"),u.checked&&e.searchParams.set("is_events_stocks_own_by_me","true"),x&&x.value&&e.searchParams.set("user_group_id",x.value);var t=[];P.forEach((function(e){e.value&&t.push(e.value)}));var r={};P.forEach((function(e){e.value&&(r[e.id]=e.value)})),sessionStorage.setItem("masterGroupValues",JSON.stringify(r)),l.checked&&e.searchParams.set("is_events","true"),t.length&&e.searchParams.set("master_groups",t.join(",")),window.location.href="".concat(e.origin).concat(e.pathname).concat(e.search)})),sessionStorage.getItem("masterGroupValues"))for(var A=JSON.parse(sessionStorage.getItem("masterGroupValues")),N=0,O=Object.entries(A);N<O.length;N++){var I=O[N],J=(v=I[0],I[1]);document.querySelector("#".concat(v)).value=J}var P=document.querySelectorAll('[id^="product-search-master-group"]');function G(e){var t=e.querySelectorAll("option");e.value?(e.classList.remove("text-gray-500"),e.classList.add("text-gray-900")):(e.classList.add("text-gray-500"),e.classList.remove("text-gray-900"),t.forEach((function(e){e.classList.add("text-gray-900")})))}P.forEach((function(e){G(e),e.addEventListener("change",(function(){G(e)}))})),document.getElementById("product-clear-button").addEventListener("click",(function(){P.forEach((function(e){e.value="",G(e)})),q.value="",a.checked=!0,s.checked=!1,i.checked=!1,u.checked=!1,l.checked=!1,x.value="",sessionStorage.removeItem("masterGroupValues");var e=new URL(window.location.href);e.search="",window.history.pushState({},"",e.toString()),L.click()})),document.querySelectorAll(".delete-product-btn").forEach((function(e){e.addEventListener("click",(function(){return r(void 0,void 0,void 0,(function(){var t,r;return c(this,(function(c){switch(c.label){case 0:return confirm("Are sure?")?(t=e.getAttribute("data-product-id"),[4,fetch("/product/delete/".concat(t),{method:"DELETE"})]):[3,2];case 1:r=c.sent(),[200,404,409].includes(r.status)&&location.reload(),c.label=2;case 2:return[2]}}))}))}))})),document.querySelector("#product-filter-button").addEventListener("click",(function(e){L.click()}));var M=function(){s.checked||i.checked||u.checked||(s.checked=!1,i.checked=!1,u.checked=!1,l.checked=!1,a.checked=!0,L.click())};s.addEventListener("change",(function(){s.checked&&(i.checked=!1,u.checked=!1,a.checked=!1,l.checked=!1,L.click()),M()})),i.addEventListener("change",(function(){i.checked&&(s.checked=!1,u.checked=!1,a.checked=!1,l.checked=!1,L.click()),M()})),u.addEventListener("change",(function(){u.checked&&(s.checked=!1,i.checked=!1,a.checked=!1,l.checked=!1,L.click()),M()})),a.addEventListener("change",(function(){a.checked&&(s.checked=!1,i.checked=!1,u.checked=!1,L.click()),M()})),l.addEventListener("change",(function(){l.checked&&(s.checked=!1,i.checked=!1,u.checked=!1,a.checked=!1),L.click()}))}})[691](0,{})})();
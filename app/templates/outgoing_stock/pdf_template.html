<!-- Edit outgoing stock modal -->
<!-- prettier-ignore-->

<head>
  <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet" />
</head>
{% for ship_request in ship_requests %}
<div class="relative w-full max-h-full" onclick="event.stopPropagation();">
  <!-- Modal content -->
  <!-- TODO change action for view form -->
  <div class="w-full h-full flex flex-col gap-4 relative">
    <!-- Modal header -->
    <!-- Modal body -->
    <div
      class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-md font-bold rounded-lg focus:ring-blue-600 focus:border-blue-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
      â„–:{{ ship_request.order_numb }}
    </div>
    <div class="w-full h-full flex flex-col gap-2">
      <div class="flex flex-col gap-2  border border-gray-300 justify-center items-center">
        <label for="outgoing-stock-edit-comment" class="block mt-1 mb-1 text-sm font-medium ">Comment</label>
        <div class="w-full border-t-2 p-2 text-center flex-grow bg-gray-50  text-sm">
          {{ ship_request.comment if ship_request.comment else 'No comments' }}</div>
      </div>

      <div class="flex flex-col gap-2 border border-gray-300 justify-center items-center">
        <label for="outgoing-stock-edit-da-notes" class="block mt-1 mb-1 text-sm font-medium dark:text-white">Delivery
          agent
          notes</label>
        <div class="w-full border-t-2 p-2 text-center flex-grow bg-gray-50 text-sm">
          {{ ship_request.da_notes if ship_request.da_notes else 'No notes' }}</textarea>
        </div>
      </div>
    </div>
    <div>
      <table class="w-full mb-1 text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="border-collapse text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
            <th scope="col" class="border border-slate-300 px-6 py-3">Create date</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">User</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Store</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Address</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Phone</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-b border-gray-200 dark:border-gray-600">
            <td class="border border-slate-300 px-6 py-4">{{ ship_request.created_at.strftime('%Y-%m-%d') }}</td>
            <td class="border border-slate-300 px-6 py-4">{{ ship_request.user.username }}</td>
            <td class="border border-slate-300 px-6 py-4">{{ ship_request.store.store_name }}</td>
            <td class="border border-slate-300 px-6 py-4">{{ ship_request.store.full_address }}</td>
            <td class="border border-slate-300 px-6 py-4">{{ ship_request.store.phone_numb }}</td>
        </tbody>
      </table>
    </div>
    <div class="overflow-x-auto">
      <table class="border-collapse w-full mb-1 text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
          <tr>
            <th scope="col" class="border border-slate-300 px-6 py-3">Image</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">SKU</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Description</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Group</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Quantity</th>
            <th scope="col" class="border border-slate-300 px-6 py-3">Warehouse</th>
          </tr>
        </thead>
        <tbody>
          {% for cart in ship_request.carts %}
          <tr class="border-b border-gray-200 dark:border-gray-600">
            <td class="border border-slate-300 px-6 py-4">
              {% if cart.product.image and cart.product.image | length > 100 %}
              <img src="data:image/png;base64, {{ cart.product.image }}" class="w-14 h-14 object-cover" />
              {% else %}
              <img
                src="https://raw.githubusercontent.com/Simple2B/BeamSuntory/develop/app/static/img/no_picture_default.png"
                class="w-14 h-14 object-cover" />
              {% endif %}
            </td>
            <td class="border border-slate-300 px-4 py-2 text-align">{{ cart.product.SKU }}</td>
            <td class="border border-slate-300 px-4 py-2 text-align">{{ cart.product.description }}</td>
            <td class="border border-slate-300 px-4 py-2 text-align">{{ cart.group.name }}</td>
            <td class="border border-slate-300 px-4 py-2 text-align">{{ cart.quantity }}</td>
            <td class="border border-slate-300 px-4 py-2 text-align">{{ cart.note_location if cart.note_location
              else "-" }}
            </td>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endfor %}